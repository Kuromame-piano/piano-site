---
import { areas, type Area } from "../../data/areas";

interface Props {
    area: Area;
}

const { area } = Astro.props;

const relatedAreas = area.relatedAreas
    .map((slug) => areas.find((a) => a.slug === slug))
    .filter((a): a is Area => Boolean(a))
    .slice(0, 4);
---

{
    relatedAreas.length > 0 && (
        <section class="py-20 px-6 max-w-4xl mx-auto text-center border-t border-[#F1EBE4]">
            <h2 class="text-xl font-serif mb-10 text-[#544A40]">
                近隣・関連エリアのピアノ教室
                <span class="block text-sm text-[#A88B58] mt-2 font-sans font-normal tracking-wide">
                    Related Areas
                </span>
            </h2>
            <nav aria-label="Related Areas">
                <ul class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm max-w-2xl mx-auto">
                    {relatedAreas.map((a) => (
                        <li>
                            <a
                                href={`/area/${a.slug}`}
                                class="block px-6 py-4 border border-[#544A40]/20 text-[#544A40] hover:bg-[#544A40] hover:text-white transition-all duration-300 rounded-lg hover:shadow-md group"
                            >
                                <span class="font-medium tracking-wider">
                                    {a.name}のピアノ教室
                                </span>
                                <span class="block text-xs mt-1 text-[#A88B58] group-hover:text-white/80 transition-colors">
                                    出張レッスン対応
                                </span>
                            </a>
                        </li>
                    ))}
                </ul>
            </nav>
        </section>
    )
}
